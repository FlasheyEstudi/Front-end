<!-- src/app/Child/MisSolicitudes/mis-solicitudes.html -->
<div class="container">
  <h2>Mis Solicitudes de Beca</h2>

  <!-- Indicador de carga -->
  <div *ngIf="loading" class="alert alert-info">
    <i class="fas fa-spinner fa-spin"></i> Cargando solicitudes...
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <!-- Mensaje si no hay solicitudes -->
  <div *ngIf="!loading && !error && solicitudes.length === 0" class="alert alert-info">
    No hay solicitudes disponibles.
  </div>

  <!-- Tabla de solicitudes -->
  <div *ngIf="!loading && solicitudes.length > 0" class="table-responsive">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Tipo de Beca</th>
          <th>Estado</th>
          <th>Fecha Solicitud</th>
          <th>Progreso</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let solicitud of solicitudes; trackBy: trackBySolicitudId">
          <td>{{ solicitud.Id }}</td>
          <td>{{ solicitud.TipoBecaNombre }}</td>
          <td>
            <span [ngClass]="getEstadoClass(solicitud.EstadoNombre)">
              {{ solicitud.EstadoNombre }}
            </span>
          </td>
          <td>{{ formatearFecha(solicitud.FechaSolicitud) }}</td>
          <td>
            <div class="progress">
              <div class="progress-bar" [ngClass]="getEstadoClass(solicitud.EstadoNombre)"
                   role="progressbar" [style.width]="solicitud.PorcentajeProgreso + '%'"
                   [attr.aria-valuenow]="solicitud.PorcentajeProgreso" aria-valuemin="0" aria-valuemax="100">
                {{ solicitud.PorcentajeProgreso }}%
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- BotÃ³n para abrir modal -->
  <button class="btn btn-primary mt-3" (click)="abrirModal()">
    Nueva Solicitud
  </button>
</div>