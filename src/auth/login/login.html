<div class="login-container">
  <div class="login-card">
    <!-- Encabezado -->
    <div class="header">
      <h1 class="title">Sistema de Becas</h1>
      <p class="subtitle">Universidad Ricardo Morales Avilés</p>
    </div>

    <!-- Botones de selección de rol -->
    <div class="role-tabs">
      <button 
        class="role-tab" 
        [class.active]="selectedRole === 'estudiante'"
        (click)="selectRole('estudiante')"
      >
        <i class="fas fa-user-graduate"></i> Estudiante
      </button>
      <button 
        class="role-tab" 
        [class.active]="selectedRole === 'admin'"
        (click)="selectRole('admin')"
      >
        <i class="fas fa-user-shield"></i> Administrador
      </button>
    </div>

    <!-- Icono central -->
    <div class="icon-container">
      <i class="fas fa-graduation-cap"></i>
    </div>

    <!-- Título principal -->
    <h2 class="portal-title">Portal {{ selectedRole === 'estudiante' ? 'Estudiantil' : 'Administrativo' }}</h2>
    <p class="portal-subtitle">Accede a tu cuenta de {{ selectedRole === 'estudiante' ? 'estudiante' : 'administrador' }}</p>

    <!-- Formulario -->
    <form (ngSubmit)="login(loginForm)" #loginForm="ngForm" class="login-form">
      <!-- Campo de identificador -->
      <div class="form-group">
        <label for="identifier">Usuario o Carnet:</label>
        <div class="input-wrapper">
          <i class="fas fa-user"></i>
          <input
            type="text"
            id="identifier"
            name="identifier"
            [(ngModel)]="identifier"
            required
            #identifierInput="ngModel"
            class="form-input"
            placeholder="Ingresa tu carnet o usuario"
          />
        </div>
        <div *ngIf="identifierInput.invalid && (identifierInput.dirty || identifierInput.touched)" class="validation-error">
          <div *ngIf="identifierInput.errors?.['required']">El campo es obligatorio.</div>
        </div>
      </div>

      <!-- Campo de contraseña -->
      <div class="form-group">
        <label for="password">Contraseña:</label>
        <div class="input-wrapper password-wrapper">
          <i class="fas fa-lock"></i>
          <input
            [type]="showPassword ? 'text' : 'password'"
            id="password"
            name="password"
            [(ngModel)]="password"
            required
            minlength="6"
            #passwordInput="ngModel"
            class="form-input"
            placeholder="Tu contraseña"
          />
          <span class="password-toggle" (click)="togglePasswordVisibility()">
            <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
          </span>
        </div>
        <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)" class="validation-error">
          <div *ngIf="passwordInput.errors?.['required']">La contraseña es obligatoria.</div>
          <div *ngIf="passwordInput.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres.</div>
        </div>
      </div>

      <!-- Botón de inicio de sesión -->
      <button type="submit" [disabled]="loginForm.invalid || loading" class="btn-login">
        <i class="fas fa-sign-in-alt"></i>
        {{ loading ? 'Iniciando sesión...' : 'Iniciar Sesión' }}
      </button>
    </form>

    <!-- Enlace de registro -->
    <div class="register-link">
      ¿No tienes cuenta? <a routerLink="/register">Regístrate aquí</a>
    </div>
  </div>
</div>